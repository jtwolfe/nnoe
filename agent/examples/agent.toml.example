# NNOE Agent Configuration Example

[node]
name = "nnoe-node-1"
role = "active"  # Options: "management", "db-only", "active"
# node_id = "optional-node-id"

[etcd]
endpoints = ["http://127.0.0.1:2379"]
prefix = "/nnoe"
timeout_secs = 5

# Optional TLS configuration for secure etcd connections
# When TLS is configured, endpoints should use 'https://' instead of 'http://'
# [etcd.tls]
# ca_cert = "/etc/nnoe/certs/ca.crt"        # Path to CA certificate file
# cert = "/etc/nnoe/certs/client.crt"        # Path to client certificate file (PEM format)
# key = "/etc/nnoe/certs/client.key"         # Path to client private key file (PEM format)

[cache]
path = "/var/nnoe/cache"
default_ttl_secs = 300
max_size_mb = 100

[nebula]
enabled = false
config_path = "/etc/nebula/config.yml"
# cert_path = "/etc/nnoe/nebula/node.crt"
# key_path = "/etc/nnoe/nebula/node.key"
# lighthouse_hosts = ["192.168.100.1"]

[services.dns]
enabled = true
engine = "knot"
config_path = "/etc/knot/knot.conf"
zone_dir = "/var/lib/knot/zones"
# listen_address = "0.0.0.0"  # Default: "0.0.0.0"
# listen_port = 53            # Default: 53

# [services.dhcp]
# enabled = true
# engine = "kea"
# config_path = "/etc/kea/kea-dhcp4.conf"
# interface = "eth0"           # Default: "eth0"
# control_port = 8000          # Default: 8000
# ha_pair_id = "pair-1"

# [services.dnsdist]
# enabled = true
# config_path = "/etc/dnsdist/dnsdist.conf"
# lua_script_path = "/etc/dnsdist/lua/rules.lua"
# listen_address = "0.0.0.0"   # Default: "0.0.0.0"
# listen_port = 53             # Default: 53
# control_port = 5199          # Default: 5199
# upstream_resolvers = ["127.0.0.1:5353", "8.8.8.8"]

# [services.cerbos]
# enabled = true
# endpoint = "http://localhost:8222"
# timeout_secs = 2

# [services.lynis]
# enabled = true
# audit_interval_secs = 86400
# report_path = "/var/log/nnoe/lynis-report.log"

[logging]
level = "info"  # Options: "trace", "debug", "info", "warn", "error"
json = false
# file = "/var/log/nnoe/agent.log"

